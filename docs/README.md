# 기능 요구사항 정리

예산은 무제한.
메뉴 에피타이저 3종류, 메인 4종류, 디저트 2종류, 음료 3종류
할인 및 증정 중복 가능.

```
<애피타이저>
양송이수프(6,000), 타파스(5,500), 시저샐러드(8,000)

<메인>
티본스테이크(55,000), 바비큐립(54,000), 해산물파스타(35,000), 크리스마스파스타(25,000)

<디저트>
초코케이크(15,000), 아이스크림(5,000)

<음료>
제로콜라(3,000), 레드와인(60,000), 샴페인(25,000)
```

## 할인 종류

1. 증정 (1일 ~ 31일)
    - 할인 전, 총 주문 12만원 이상이면 샴페인(25000) 1개 증정.
2. 크리스마스 디데이 할인 (1일 ~ 25일)
    - 총 금액에서 할인
    - 1일에 1000원, 2일에 1100원, 3일에 1200원, ...
3. 평일 할인 (1일 ~ 31일)
    - 일~목
    - 디저트 개당 2023원
4. 주말 할인 (1일 ~ 31일)
    - 금, 토
    - 메인 개당 2023원
5. 특별 할인
    - 별이 있는 날 (3, 10, 17, 24, 25, 31일)
    - 총 금액에서 1000원 할인

## 배지

- 총 혜택 금액에 따라 증정. (할인 금액 합 + 증정 금액)
    - 5000~9999 별
    - 10000~19999 트리
    - 20000~ 산타

## 주의사항

- 총 주문 금액 10000 미만, 모든 혜택 없음.
- 음료만 주문 불가
- 건당 최대 20개 물건 주문 가능.

## 입력 요구사항

- 방문 날짜, 메뉴 선택
- 메뉴 입력 방식: 메뉴A-개수,메뉴B-개수

## 출력 요구사항

- 할인 전 총 주문 금액, 증정 메뉴, 혜택 금액, 총 혜택 금액, 할인 후 예상 결제액, 배지
- 총 혜택 금액 = 할인 금액 합 + 증정 메뉴
- 할인 후 예상 결제액 = 할인 전 총주문 금액 - 할인 금액

## 출력 형식

- 날짜 입력 오류(1~31): [ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.
- 모든 에러는 [ERROR]로 시작
- 없는 메뉴: [ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.
- 틀린 개수(0 이하, 소수, 문자): [ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.
- 형식 오류: [ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.
- 중복 메뉴: [ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.
- 기타 예외는 [ERROR] prefix를 붙여 출력할 것.

# 기능 외적 요구사항 정리

1. 들여쓰기 2이하
2. 메서드의 길이 15줄 이하
3. else, switch 금지
4. 도메인 로직에만 단위 테스트 구현
5. InputView, OutputView 참고하기 (패키지, 클래스명, 반환 타입 등 변경 가능)

# 구현할 기능 세부사항

## 방문 날짜 입력받기

- 정수 하나 입력받기
- 빈 문자열일 경우 예외 처리
- 정수가 아닐 경우(문자, 소수, 너무 큰 수) 예외 처리
- 1 ~ 31 범위를 벗어날 경우 예외 처리
- 모든 예외 메시지는 `[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.`로 통일.

## 메뉴 하나 입력받기

- 메뉴이름-개수 형식으로 입력받기
- 입력 형식이 다른 경우 예외 처리
- 메뉴판에 없는 메뉴인 경우 예외 처리
- 개수가 정수가 아닌 경우(문자, 소수, 너무 큰 수) 예외 처리
- 개수가 양수가 아닌 경우 예외 처리
- 예외 메시지는 `[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.`로 통일.

## 전체 메뉴 입력받기

- 메뉴하나,메뉴하나,메뉴하나 형식으로 입력받기
- ~~입력 형식이 다른 경우 예외 처리~~ --> 메뉴 하나 입력받기에서 처리함.
- 중복 메뉴가 있을 경우 예외 처리
- 총 주문 개수 20개 초과일 경우 예외 처리
- 음료만 주문 시 예외 처리

## 할인 전 총 주문 금액 계산하기

- 각 주문 객체로부터 가격 계산하기
- 전체 주문 객체로부터 가격 합 계산하기

## 캘린더 구현

- 주중인지 판단하기
- 주말인지 판단하기 (금, 토)
- 특별한 날(별 포함)인지 판단하기
- 특정 날짜 이후인지 판단하기

## 혜택 계산하기

- 혜택 여부 확인하기
- 증정품 여부 확인하기
- 디데이 할인, 평일 할인, 주말 할인, 특별 할인 여부 확인하기
- 전체 혜택 금액 계산
- 할인 후 결제 금액 계산
- 배지 증정

## 입력 처리하기

- Console로부터 한 줄 입력받기
- 예외 발생 시 재시도

## 출력 처리하기

- Model 클래스로부터 접근 가능한 Dto 받기
